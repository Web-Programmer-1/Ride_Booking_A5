"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = __importDefault(require("express"));
const auth_middleware_1 = require("../../middlewares/auth.middleware");
const role_middleware_1 = require("../../middlewares/role.middleware");
const ride_controller_1 = require("./ride.controller");
const rideRouter = express_1.default.Router();
rideRouter.post("/request", auth_middleware_1.authGuard, (0, role_middleware_1.checkRole)(['rider']), ride_controller_1.rideRequest);
rideRouter.patch("/cancel/:id", auth_middleware_1.authGuard, (0, role_middleware_1.checkRole)(['rider']), ride_controller_1.cancelRide);
rideRouter.get("/history", auth_middleware_1.authGuard, (0, role_middleware_1.checkRole)(['rider']), ride_controller_1.getRideHistory);
rideRouter.patch("/accept/:id", auth_middleware_1.authGuard, (0, role_middleware_1.checkRole)(['driver']), ride_controller_1.acceptRide);
rideRouter.patch("/status/:id", auth_middleware_1.authGuard, (0, role_middleware_1.checkRole)(['driver']), ride_controller_1.updateRideStatus);
rideRouter.get("/totalRide", auth_middleware_1.authGuard, (0, role_middleware_1.checkRole)(["driver"]), ride_controller_1.getTotalRides);
rideRouter.patch('/availability', auth_middleware_1.authGuard, (0, role_middleware_1.checkRole)(['driver']), ride_controller_1.toggleAvailability);
// --------------ADMIN Opearation--------------------------
rideRouter.get("/users", auth_middleware_1.authGuard, (0, role_middleware_1.checkRole)(['admin']), ride_controller_1.getAllUsers);
rideRouter.patch('/drivers/approve/:id', auth_middleware_1.authGuard, (0, role_middleware_1.checkRole)(['admin']), ride_controller_1.approveDriver);
rideRouter.patch('/users/block/:id', auth_middleware_1.authGuard, (0, role_middleware_1.checkRole)(['admin']), ride_controller_1.blockUser);
rideRouter.get("/rides", auth_middleware_1.authGuard, (0, role_middleware_1.checkRole)(['admin']), ride_controller_1.getAllRides);
rideRouter.get("/analytics", auth_middleware_1.authGuard, (0, role_middleware_1.checkRole)(["admin"]), ride_controller_1.getAnalytics);
rideRouter.get("/oversight", auth_middleware_1.authGuard, (0, role_middleware_1.checkRole)(["admin"]), ride_controller_1.getRideOversight);
rideRouter.get("/profile", auth_middleware_1.authGuard, (0, role_middleware_1.checkRole)(["admin"]), ride_controller_1.getAdminProfile);
rideRouter.patch("/profile", auth_middleware_1.authGuard, (0, role_middleware_1.checkRole)(["admin"]), ride_controller_1.updateAdminProfile);
rideRouter.get("/details/:id", auth_middleware_1.authGuard, (0, role_middleware_1.checkRole)(["rider"]), ride_controller_1.getAllRideHistory);
rideRouter.get("/history/driver", auth_middleware_1.authGuard, (0, role_middleware_1.checkRole)(['driver']), ride_controller_1.getDriverRideHistory);
rideRouter.get("/earnings", auth_middleware_1.authGuard, (0, role_middleware_1.checkRole)(["driver"]), ride_controller_1.getEarnings);
rideRouter.patch("/driver/profile", auth_middleware_1.authGuard, (0, role_middleware_1.checkRole)(["driver"]), ride_controller_1.getDriverUpdateProfile);
rideRouter.get("/details/:id", auth_middleware_1.authGuard, ride_controller_1.getRideDetails);
exports.default = rideRouter;
